!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@nivo/core"),require("@nivo/colors"),require("@nivo/axes"),require("@nivo/legends"),require("@nivo/tooltip"),require("d3-shape"),require("@nivo/scales"),require("prop-types"),require("react/jsx-runtime"),require("@react-spring/web"),require("@nivo/voronoi")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","@nivo/colors","@nivo/axes","@nivo/legends","@nivo/tooltip","d3-shape","@nivo/scales","prop-types","react/jsx-runtime","@react-spring/web","@nivo/voronoi"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.nivo,e.nivo,e.nivo,e.nivo,e.d3,e.nivo,e.PropTypes,e["react/jsx-runtime"],e["@react-spring/web"],e.nivo)}(this,(function(e,t,r,i,n,a,o,l,u,s,d,f,c){"use strict";function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=p(s);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},y.apply(this,arguments)}var b=function(e){var t=e.point;return d.jsx(o.BasicTooltip,{id:d.jsxs("span",{children:["x: ",d.jsx("strong",{children:t.data.xFormatted}),", y:"," ",d.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};b.propTypes={point:h.default.object.isRequired};var m=t.memo(b),g=function(e){var t=e.slice,i=e.axis,n=r.useTheme(),a="x"===i?"y":"x";return d.jsx(o.TableTooltip,{rows:t.points.map((function(e){return[d.jsx(o.Chip,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,d.jsx("span",{style:n.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};g.propTypes={slice:h.default.object.isRequired,axis:h.default.oneOf(["x","y"]).isRequired};var v=t.memo(g),x={data:h.default.arrayOf(h.default.shape({id:h.default.oneOfType([h.default.string,h.default.number]).isRequired,data:h.default.arrayOf(h.default.shape({x:h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]),y:h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)])})).isRequired})).isRequired,xScale:h.default.object.isRequired,xFormat:h.default.oneOfType([h.default.func,h.default.string]),yScale:h.default.object.isRequired,yFormat:h.default.oneOfType([h.default.func,h.default.string]),layers:h.default.arrayOf(h.default.oneOfType([h.default.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),h.default.func])).isRequired,curve:r.lineCurvePropType.isRequired,axisTop:n.axisPropType,axisRight:n.axisPropType,axisBottom:n.axisPropType,axisLeft:n.axisPropType,enableGridX:h.default.bool.isRequired,enableGridY:h.default.bool.isRequired,gridXValues:h.default.oneOfType([h.default.number,h.default.arrayOf(h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]))]),gridYValues:h.default.oneOfType([h.default.number,h.default.arrayOf(h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]))]),enablePoints:h.default.bool.isRequired,pointSymbol:h.default.func,pointSize:h.default.number.isRequired,pointColor:h.default.any.isRequired,pointBorderWidth:h.default.number.isRequired,pointBorderColor:h.default.any.isRequired,enablePointLabel:h.default.bool.isRequired,pointLabel:h.default.oneOfType([h.default.string,h.default.func]).isRequired,markers:h.default.arrayOf(h.default.shape({axis:h.default.oneOf(["x","y"]).isRequired,value:h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]).isRequired,style:h.default.object})),colors:i.ordinalColorsPropType.isRequired,enableArea:h.default.bool.isRequired,areaOpacity:h.default.number.isRequired,areaBlendMode:r.blendModePropType.isRequired,areaBaselineValue:h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]).isRequired,lineWidth:h.default.number.isRequired,legends:h.default.arrayOf(h.default.shape(a.LegendPropShape)).isRequired,isInteractive:h.default.bool.isRequired,debugMesh:h.default.bool.isRequired,tooltip:h.default.oneOfType([h.default.func,h.default.object]).isRequired,enableSlices:h.default.oneOf(["x","y",!1]).isRequired,debugSlices:h.default.bool.isRequired,sliceTooltip:h.default.oneOfType([h.default.func,h.default.object]).isRequired,enableCrosshair:h.default.bool.isRequired,crosshairType:h.default.string.isRequired},C=y({},x,{enablePointLabel:h.default.bool.isRequired,role:h.default.string.isRequired,useMesh:h.default.bool.isRequired},r.motionPropTypes,r.defsPropTypes),R=y({pixelRatio:h.default.number.isRequired},x),q={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:m,enableSlices:!1,debugSlices:!1,sliceTooltip:v,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},T=y({},q,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),S=y({},q,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),O=function(e){var i=e.curve;return t.useMemo((function(){return l.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(r.curveFromProp(i))}),[i])},M=function(e){var i=e.curve,n=e.yScale,a=e.areaBaselineValue;return t.useMemo((function(){return l.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).y0((function(e){return e.y0})).curve(r.curveFromProp(i))}),[i,n,a])},j=function(e){var r=e.enableSlices,i=e.points,n=e.width,a=e.height;return t.useMemo((function(){if(!1===r)return[];if("x"===r){var e=new Map;return i.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,r){var i,o=e[0],l=e[1],u=r[t-1],s=r[t+1];return{id:o,x0:i=u?o-(o-u[0])/2:o,x:o,y0:0,y:0,width:s?o-i+(s[0]-o)/2:n-i,height:a,points:l.reverse()}}))}if("y"===r){var t=new Map;return i.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(t.has(e.y)?t.get(e.y).push(e):t.set(e.y,[e]))})),Array.from(t.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,r){var i,o,l=e[0],u=e[1],s=r[t-1],d=r[t+1];return i=s?l-(l-s[0])/2:l,o=d?l-i+(d[0]-l)/2:a-i,{id:l,x0:0,x:0,y0:i,y:l,width:n,height:o,points:u.reverse()}}))}}),[r,i])},k=function(e){var n=e.data,a=e.xScale,o=void 0===a?T.xScale:a,l=e.xFormat,s=e.yScale,d=void 0===s?T.yScale:s,f=e.yFormat,c=e.width,p=e.height,h=e.colors,b=void 0===h?T.colors:h,m=e.curve,g=void 0===m?T.curve:m,v=e.areaBaselineValue,x=void 0===v?T.areaBaselineValue:v,C=e.pointColor,R=void 0===C?T.pointColor:C,q=e.pointBorderColor,S=void 0===q?T.pointBorderColor:q,k=e.enableSlices,w=void 0===k?T.enableSlicesTooltip:k;e.enableAreaBetween;var P=r.useValueFormatter(l),B=r.useValueFormatter(f),L=i.useOrdinalColorScale(b,"id"),W=r.useTheme(),G=i.useInheritedColor(R,W),E=i.useInheritedColor(S,W),F=t.useState([]),V=F[0],D=F[1],I=t.useMemo((function(){return u.computeXYScalesForSeries(n.filter((function(e){return-1===V.indexOf(e.id)})),o,d,c,p)}),[n,V,o,d,c,p]),A=I.xScale,H=I.yScale,Y=I.series,X=t.useMemo((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:L(e)}})),t=e.map((function(e){return y({},Y.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return y({},e,{hidden:!t.find((function(t){return t.id===e.id}))})})).reverse(),series:t}}),[n,Y,L]),z=X.legendData,_=X.series,J=t.useCallback((function(e){D((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),K=function(e){var r=e.series,i=e.getPointColor,n=e.getPointBorderColor,a=e.formatX,o=e.formatY;return t.useMemo((function(){return r.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(r,l){var u={id:t.id+"."+l,index:e.length+l,serieId:t.id,serieColor:t.color,x:r.position.x,y:r.position.y};return u.color=i(t),u.borderColor=n(u),u.data=y({},r.data,{xFormatted:a(r.data.x),yFormatted:o(r.data.y)}),u})))}),[])}),[r,i,n,a,o])}({series:_,getPointColor:G,getPointBorderColor:E,formatX:P,formatY:B}),N=j({enableSlices:w,points:K,width:c,height:p});return{legendData:z,toggleSerie:J,lineGenerator:O({curve:g}),areaGenerator:M({curve:g,yScale:H,areaBaselineValue:x}),getColor:L,series:_,xScale:A,yScale:H,slices:N,points:K}},w=function(e){var t=e.areaBlendMode,i=e.areaOpacity,n=e.color,a=e.fill,o=e.path,l=r.useMotionConfig(),u=l.animate,s=l.config,c=r.useAnimatedPath(o),p=f.useSpring({color:n,config:s,immediate:!u});return d.jsx(f.animated.path,{d:c,fill:a||p.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:t}})};w.propTypes={areaBlendMode:r.blendModePropType.isRequired,areaOpacity:h.default.number.isRequired,color:h.default.string,fill:h.default.string,path:h.default.string.isRequired};var P=function(e){var t=e.areaGenerator,r=e.areaOpacity,i=e.areaBlendMode,n=e.lines.slice(0).reverse();return d.jsx("g",{children:n.map((function(e){return d.jsx(w,y({path:t(e.data.map((function(e){return e.position})))},y({areaOpacity:r,areaBlendMode:i},e)),e.id)}))})};P.propTypes={areaGenerator:h.default.func.isRequired,areaOpacity:h.default.number.isRequired,areaBlendMode:r.blendModePropType.isRequired,lines:h.default.arrayOf(h.default.object).isRequired};var B=t.memo(P),L=function(e){var i=e.lineGenerator,n=e.points,a=e.color,o=e.thickness,l=t.useMemo((function(){return i(n)}),[i,n]),u=r.useAnimatedPath(l);return d.jsx(f.animated.path,{d:u,fill:"none",strokeWidth:o,stroke:a})};L.propTypes={points:h.default.arrayOf(h.default.shape({x:h.default.oneOfType([h.default.string,h.default.number]),y:h.default.oneOfType([h.default.string,h.default.number])})),lineGenerator:h.default.func.isRequired,color:h.default.string.isRequired,thickness:h.default.number.isRequired};var W=t.memo(L),G=function(e){var t=e.lines,r=e.lineGenerator,i=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,n=e.data,a=e.color;return d.jsx(W,{id:t,points:n.map((function(e){return e.position})),lineGenerator:r,color:a,thickness:i},t)}))};G.propTypes={lines:h.default.arrayOf(h.default.shape({id:h.default.oneOfType([h.default.string,h.default.number]).isRequired,color:h.default.string.isRequired,data:h.default.arrayOf(h.default.shape({data:h.default.shape({x:h.default.oneOfType([h.default.string,h.default.number,h.default.instanceOf(Date)]),y:h.default.oneOfType([h.default.string,h.default.number,h.default.instanceOf(Date)])}).isRequired,position:h.default.shape({x:h.default.number,y:h.default.number}).isRequired})).isRequired})).isRequired,lineWidth:h.default.number.isRequired,lineGenerator:h.default.func.isRequired};var E=t.memo(G),F=function(e){var r=e.slice,i=e.axis,n=e.debug,a=e.tooltip,l=e.isCurrent,u=e.currentlyHovered,s=e.setSliceId,f=e.current,c=e.setCurrent,p=e.setCurrentlyHovered,h=e.height,y=e.onClick,b=o.useTooltip(),m=b.showTooltipFromEvent,g=b.showTooltipAt,v=b.hideTooltip,x=t.useCallback((function(){l&&g(t.createElement(a,{slice:r,axis:i}),[r.x,h/2],"top")}),[r,l,u,g,a]);t.useEffect((function(){null===f&&v()}),[f,v]),t.useEffect((function(){x()}),[x]);var C=t.useCallback((function(e){g(t.createElement(a,{slice:r,axis:i}),[r.x,h/2],"top"),p(!0),s&&s(r.id),c(r)}),[m,a,r]),R=t.useCallback((function(){v(),s&&s(null),p(!1),c(null)}),[v,s,p]),q=t.useCallback((function(e){y&&y(r,e)}),[y]);return d.jsx("rect",{x:r.x0,y:r.y0,width:r.width,height:r.height,stroke:"red",strokeWidth:n?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&n?.35:0,onMouseEnter:C,onMouseLeave:R,onClick:q})};F.propTypes={slice:h.default.object.isRequired,axis:h.default.oneOf(["x","y"]).isRequired,debug:h.default.bool.isRequired,height:h.default.number.isRequired,tooltip:h.default.oneOfType([h.default.func,h.default.object]),isCurrent:h.default.bool.isRequired,setCurrent:h.default.func.isRequired,onMouseEnter:h.default.func,onMouseMove:h.default.func,onMouseLeave:h.default.func,onClick:h.default.func};var V=t.memo(F),D=function(e){var t=e.slices,r=e.axis,i=e.debug,n=e.height,a=e.tooltip,o=e.current,l=e.setCurrent,u=e.setSliceId,s=e.setCurrentlyHovered,f=e.currentlyHovered,c=e.onClick;return t.map((function(e){return d.jsx(V,{slice:e,axis:r,debug:i,height:n,tooltip:a,setCurrent:l,isCurrent:null!==o&&o.id===e.id,setSliceId:u,currentlyHovered:f,setCurrentlyHovered:s,current:o,onClick:c},e.id)}))};D.propTypes={slices:h.default.arrayOf(h.default.shape({id:h.default.oneOfType([h.default.number,h.default.string,h.default.instanceOf(Date)]).isRequired,x:h.default.number.isRequired,y:h.default.number.isRequired,points:h.default.arrayOf(h.default.object).isRequired})).isRequired,axis:h.default.oneOf(["x","y"]).isRequired,debug:h.default.bool.isRequired,height:h.default.number.isRequired,tooltip:h.default.oneOfType([h.default.func,h.default.object]).isRequired,current:h.default.object,setCurrent:h.default.func.isRequired,onMouseEnter:h.default.func,onMouseMove:h.default.func,onMouseLeave:h.default.func,onClick:h.default.func};var I=t.memo(D),A=function(e){var t=e.points,i=e.symbol,n=e.size,a=e.borderWidth,o=e.enableLabel,l=e.label,u=e.labelYOffset,s=r.useTheme(),f=r.getLabelGenerator(l),c=t.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?f(e.data):null}}));return d.jsx("g",{children:c.map((function(e){return d.jsx(r.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:a,borderColor:e.stroke,label:e.label,labelYOffset:u,theme:s},e.id)}))})};A.propTypes={points:h.default.arrayOf(h.default.object),symbol:h.default.func,size:h.default.number.isRequired,color:h.default.func.isRequired,borderWidth:h.default.number.isRequired,borderColor:h.default.func.isRequired,enableLabel:h.default.bool.isRequired,label:h.default.oneOfType([h.default.string,h.default.func]).isRequired,labelYOffset:h.default.number};var H=t.memo(A),Y=function(e){var r=e.points,i=e.width,n=e.height,a=e.margin,l=e.setCurrent,u=e.onMouseEnter,s=e.onMouseMove,f=e.onMouseLeave,p=e.onClick,h=e.tooltip,y=e.debug,b=o.useTooltip(),m=b.showTooltipAt,g=b.hideTooltip,v=t.useCallback((function(e,r){m(t.createElement(h,{point:e}),[e.x+a.left,e.y+a.top],"top"),l(e),u&&u(e,r)}),[l,m,h,u,a]),x=t.useCallback((function(e,r){m(t.createElement(h,{point:e}),[e.x+a.left,e.y+a.top],"top"),l(e),s&&s(e,r)}),[l,m,h,s]),C=t.useCallback((function(e,t){g(),l(null),f&&f(e,t)}),[g,l,f]),R=t.useCallback((function(e,t){p&&p(e,t)}),[p]);return d.jsx(c.Mesh,{nodes:r,width:i,height:n,onMouseEnter:v,onMouseMove:x,onMouseLeave:C,onClick:R,debug:y})};Y.propTypes={points:h.default.arrayOf(h.default.object).isRequired,width:h.default.number.isRequired,height:h.default.number.isRequired,margin:h.default.object.isRequired,setCurrent:h.default.func.isRequired,onMouseEnter:h.default.func,onMouseMove:h.default.func,onMouseLeave:h.default.func,onClick:h.default.func,tooltip:h.default.oneOfType([h.default.func,h.default.object]).isRequired,debug:h.default.bool.isRequired};var X=t.memo(Y),z=function(e){var l=e.data,u=e.xScale,s=e.xFormat,f=e.yScale,c=e.yFormat,p=e.layers,h=e.curve,b=e.areaBaselineValue,m=e.colors,g=e.margin,v=e.width,x=e.height,C=e.axisTop,R=e.axisRight,q=e.axisBottom,T=e.axisLeft,S=e.enableGridX,O=e.enableGridY,M=e.gridXValues,j=e.gridYValues,w=e.lineWidth,P=e.enableArea,L=e.enableAreaBetween,W=e.areaOpacity,G=e.areaBlendMode,F=e.enablePoints,V=e.pointSymbol,D=e.pointSize,A=e.pointColor,Y=e.pointBorderWidth,z=e.pointBorderColor,_=e.enablePointLabel,J=e.pointLabel,K=e.pointLabelYOffset,N=e.defs,Q=e.fill,U=e.markers,Z=e.legends,$=e.isInteractive,ee=e.useMesh,te=e.debugMesh,re=e.onMouseEnter,ie=e.onMouseMove,ne=e.onMouseLeave,ae=e.onClick,oe=e.tooltip,le=e.sliceId,ue=e.setSliceId,se=e.enableSlices,de=e.debugSlices,fe=e.sliceTooltip,ce=e.enableCrosshair,pe=e.crosshairType,he=e.role,ye=r.useDimensions(v,x,g),be=ye.margin,me=ye.innerWidth,ge=ye.innerHeight,ve=ye.outerWidth,xe=ye.outerHeight,Ce=k({data:l,xScale:u,xFormat:s,yScale:f,yFormat:c,width:me,height:ge,colors:m,curve:h,areaBaselineValue:b,pointColor:A,pointBorderColor:z,enableSlices:se,enableAreaBetween:L}),Re=Ce.legendData,qe=Ce.toggleSerie,Te=Ce.lineGenerator,Se=Ce.areaGenerator,Oe=Ce.series,Me=Ce.xScale,je=Ce.yScale,ke=Ce.slices,we=Ce.points,Pe=r.useTheme(),Be=i.useInheritedColor(A,Pe),Le=i.useInheritedColor(z,Pe),We=t.useState(null),Ge=We[0],Ee=We[1],Fe=t.useState(null),Ve=Fe[0],De=Fe[1],Ie=t.useState(!1),Ae=Ie[0],He=Ie[1],Ye=t.useState({}),Xe=Ye[0],ze=Ye[1];t.useEffect((function(){if(ke){for(var e={},t=0;t<ke.length;t++)e[ke[t].id]=ke[t];ze(e)}}),[l,ke]),t.useEffect((function(){!Ae&&ue&&De(Xe[le]||null)}),[le,Xe]);var _e={grid:d.jsx(n.Grid,{theme:Pe,width:me,height:ge,xScale:S?Me:null,yScale:O?je:null,xValues:M,yValues:j},"grid"),markers:d.jsx(r.CartesianMarkers,{markers:U,width:me,height:ge,xScale:Me,yScale:je,theme:Pe},"markers"),axes:d.jsx(n.Axes,{xScale:Me,yScale:je,width:me,height:ge,theme:Pe,top:C,right:R,bottom:q,left:T},"axes"),areas:null,lines:d.jsx(E,{lines:Oe,lineGenerator:Te,lineWidth:w},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Z.map((function(e,t){return d.jsx(a.BoxLegendSvg,y({},e,{containerWidth:me,containerHeight:ge,data:e.data||Re,theme:Pe,toggleSerie:e.toggleSerie?qe:void 0}),"legend."+t)}))},Je=r.bindDefs(N,Oe,Q);return P&&(_e.areas=d.jsx(B,{areaGenerator:Se,areaOpacity:W,areaBlendMode:G,lines:Oe},"areas")),$&&!1!==se&&(_e.slices=d.jsx(I,{slices:ke,axis:se,debug:de,height:ge,tooltip:fe,current:Ve,setCurrent:De,setCurrentlyHovered:He,setSliceId:ue,currentlyHovered:Ae,onClick:ae},"slices")),F&&(_e.points=d.jsx(H,{points:we,symbol:V,size:D,color:Be,borderWidth:Y,borderColor:Le,enableLabel:_,label:J,labelYOffset:K},"points")),$&&ce&&(null!==Ge&&(_e.crosshair=d.jsx(o.Crosshair,{width:me,height:ge,x:Ge.x,y:Ge.y,type:pe},"crosshair")),null!==Ve&&(_e.crosshair=d.jsx(o.Crosshair,{width:me,height:ge,x:Ve.x,y:Ve.y,type:se},"crosshair"))),$&&ee&&!1===se&&(_e.mesh=d.jsx(X,{points:we,width:me,height:ge,margin:be,current:Ge,setCurrent:Ee,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ne,onClick:ae,tooltip:oe,debug:te},"mesh")),d.jsx(r.SvgWrapper,{defs:Je,width:ve,height:xe,margin:be,role:he,children:p.map((function(r,i){return"function"==typeof r?d.jsx(t.Fragment,{children:r(y({},e,{innerWidth:me,innerHeight:ge,series:Oe,slices:ke,points:we,xScale:Me,yScale:je,lineGenerator:Te,areaGenerator:Se,currentPoint:Ge,setCurrentPoint:Ee,currentSlice:Ve,setCurrentSlice:De}))},i):_e[r]}))})};z.propTypes=C,z.defaultProps=T;var _=r.withContainer(z),J=function(e){var i=e.width,l=e.height,u=e.margin,s=e.pixelRatio,f=e.data,p=e.xScale,h=e.xFormat,b=e.yScale,m=e.yFormat,g=e.curve,v=e.layers,x=e.colors,C=e.lineWidth,R=e.enableArea,q=e.areaBaselineValue,T=e.areaOpacity,S=e.enablePoints,O=e.pointSize,M=e.pointColor,j=e.pointBorderWidth,w=e.pointBorderColor,P=e.enableGridX,B=e.gridXValues,L=e.enableGridY,W=e.gridYValues,G=e.axisTop,E=e.axisRight,F=e.axisBottom,V=e.axisLeft,D=e.legends,I=e.isInteractive,A=e.debugMesh,H=e.onMouseLeave,Y=e.onClick,X=e.tooltip,z=e.canvasRef,_=t.useRef(null),J=r.useDimensions(i,l,u),K=J.margin,N=J.innerWidth,Q=J.innerHeight,U=J.outerWidth,Z=J.outerHeight,$=r.useTheme(),ee=t.useState(null),te=ee[0],re=ee[1],ie=k({data:f,xScale:p,xFormat:h,yScale:b,yFormat:m,width:N,height:Q,colors:x,curve:g,areaBaselineValue:q,pointColor:M,pointBorderColor:w}),ne=ie.lineGenerator,ae=ie.areaGenerator,oe=ie.series,le=ie.xScale,ue=ie.yScale,se=ie.points,de=c.useVoronoiMesh({points:se,width:N,height:Q,debug:A}),fe=de.delaunay,ce=de.voronoi;t.useEffect((function(){z&&(z.current=_.current),_.current.width=U*s,_.current.height=Z*s;var e=_.current.getContext("2d");e.scale(s,s),e.fillStyle=$.background,e.fillRect(0,0,U,Z),e.translate(K.left,K.top),v.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:N,innerHeight:Q,series:oe,points:se,xScale:le,yScale:ue,lineWidth:C,lineGenerator:ne,areaGenerator:ae,currentPoint:te,setCurrentPoint:re}),"grid"===t&&$.grid.line.strokeWidth>0&&(e.lineWidth=$.grid.line.strokeWidth,e.strokeStyle=$.grid.line.stroke,P&&n.renderGridLinesToCanvas(e,{width:N,height:Q,scale:le,axis:"x",values:B}),L&&n.renderGridLinesToCanvas(e,{width:N,height:Q,scale:ue,axis:"y",values:W})),"axes"===t&&n.renderAxesToCanvas(e,{xScale:le,yScale:ue,width:N,height:Q,top:G,right:E,bottom:F,left:V,theme:$}),"areas"===t&&!0===R&&(e.save(),e.globalAlpha=T,ae.context(e),oe.forEach((function(t){e.fillStyle=t.color,e.beginPath(),ae(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(ne.context(e),oe.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=C,e.beginPath(),ne(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===S&&O>0&&se.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,O/2,0,2*Math.PI),e.fill(),j>0&&(e.strokeStyle=t.borderColor,e.lineWidth=j,e.stroke())})),"mesh"===t&&!0===A&&(c.renderVoronoiToCanvas(e,ce),te&&c.renderVoronoiCellToCanvas(e,ce,te.index)),"legends"===t){var r=oe.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();D.forEach((function(t){a.renderLegendToCanvas(e,y({},t,{data:t.data||r,containerWidth:N,containerHeight:Q,theme:$}))}))}}))}),[_,U,Z,v,$,ne,oe,le,ue,P,B,L,W,G,E,F,V,D,se,S,O,te]);var pe=t.useCallback((function(e){var t=r.getRelativeCursor(_.current,e),i=t[0],n=t[1];if(!r.isCursorInRect(K.left,K.top,N,Q,i,n))return null;var a=fe.find(i-K.left,n-K.top);return se[a]}),[_,K,N,Q,fe]),he=o.useTooltip(),ye=he.showTooltipFromEvent,be=he.hideTooltip,me=t.useCallback((function(e){var r=pe(e);re(r),r?ye(t.createElement(X,{point:r}),e):be()}),[pe,re,ye,be,X]),ge=t.useCallback((function(e){be(),re(null),te&&H&&H(te,e)}),[be,re,H]),ve=t.useCallback((function(e){if(Y){var t=pe(e);t&&Y(t,e)}}),[pe,Y]);return d.jsx("canvas",{ref:_,width:U*s,height:Z*s,style:{width:U,height:Z,cursor:I?"auto":"normal"},onMouseEnter:I?me:void 0,onMouseMove:I?me:void 0,onMouseLeave:I?ge:void 0,onClick:I?ve:void 0})};J.propTypes=R,J.defaultProps=S;var K=r.withContainer(J),N=t.forwardRef((function(e,t){return d.jsx(K,y({},e,{canvasRef:t}))})),Q=t.forwardRef((function(e,t){return d.jsx(r.ResponsiveWrapper,{children:function(r){var i=r.width,n=r.height;return d.jsx(N,y({width:i,height:n},e,{ref:t}))}})}));e.Line=_,e.LineCanvas=N,e.LineCanvasDefaultProps=S,e.LineCanvasPropTypes=R,e.LineDefaultProps=T,e.LinePropTypes=C,e.ResponsiveLine=function(e){return d.jsx(r.ResponsiveWrapper,{children:function(t){var r=t.width,i=t.height;return d.jsx(_,y({width:r,height:i},e))}})},e.ResponsiveLineCanvas=Q,e.useAreaGenerator=M,e.useLine=k,e.useLineGenerator=O,e.useSlices=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-line.umd.js.map
