{"version":3,"file":"nivo-line.umd.js","sources":["../src/PointTooltip.js","../src/SliceTooltip.js","../src/props.js","../src/hooks.js","../src/Areas.js","../src/LinesItem.js","../src/Lines.js","../src/SlicesItem.js","../src/Slices.js","../src/Points.js","../src/Mesh.js","../src/Line.js","../src/LineCanvas.js","../src/ResponsiveLineCanvas.js","../src/ResponsiveLine.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst LinePointTooltip = ({ point }) => {\n    return (\n        <BasicTooltip\n            id={\n                <span>\n                    x: <strong>{point.data.xFormatted}</strong>, y:{' '}\n                    <strong>{point.data.yFormatted}</strong>\n                </span>\n            }\n            enableChip={true}\n            color={point.serieColor}\n        />\n    )\n}\n\nLinePointTooltip.propTypes = {\n    point: PropTypes.object.isRequired,\n}\n\nexport default memo(LinePointTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@nivo/core'\nimport { Chip, TableTooltip } from '@nivo/tooltip'\n\nconst SliceTooltip = ({ slice, axis }) => {\n    const theme = useTheme()\n    const otherAxis = axis === 'x' ? 'y' : 'x'\n\n    return (\n        <TableTooltip\n            rows={slice.points.map(point => [\n                <Chip key=\"chip\" color={point.serieColor} style={theme.tooltip.chip} />,\n                point.serieId,\n                <span key=\"value\" style={theme.tooltip.tableCellValue}>\n                    {point.data[`${otherAxis}Formatted`]}\n                </span>,\n            ])}\n        />\n    )\n}\n\nSliceTooltip.propTypes = {\n    slice: PropTypes.object.isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n}\n\nexport default memo(SliceTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType } from '@nivo/colors'\nimport { axisPropType } from '@nivo/axes'\nimport { LegendPropShape } from '@nivo/legends'\nimport PointTooltip from './PointTooltip'\nimport SliceTooltip from './SliceTooltip'\n\nconst commonPropTypes = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    x: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                    y: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n\n    xScale: PropTypes.object.isRequired,\n    xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    yScale: PropTypes.object.isRequired,\n    yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf([\n                'grid',\n                'markers',\n                'axes',\n                'areas',\n                'crosshair',\n                'lines',\n                'slices',\n                'points',\n                'mesh',\n                'legends',\n            ]),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    curve: lineCurvePropType.isRequired,\n\n    axisTop: axisPropType,\n    axisRight: axisPropType,\n    axisBottom: axisPropType,\n    axisLeft: axisPropType,\n\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n    gridXValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n    gridYValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n\n    enablePoints: PropTypes.bool.isRequired,\n    pointSymbol: PropTypes.func,\n    pointSize: PropTypes.number.isRequired,\n    pointColor: PropTypes.any.isRequired,\n    pointBorderWidth: PropTypes.number.isRequired,\n    pointBorderColor: PropTypes.any.isRequired,\n    enablePointLabel: PropTypes.bool.isRequired,\n    pointLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n\n    markers: PropTypes.arrayOf(\n        PropTypes.shape({\n            axis: PropTypes.oneOf(['x', 'y']).isRequired,\n            value: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            style: PropTypes.object,\n        })\n    ),\n\n    colors: ordinalColorsPropType.isRequired,\n\n    enableArea: PropTypes.bool.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    areaBaselineValue: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n    ]).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    isInteractive: PropTypes.bool.isRequired,\n    debugMesh: PropTypes.bool.isRequired,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n    debugSlices: PropTypes.bool.isRequired,\n    sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableCrosshair: PropTypes.bool.isRequired,\n    crosshairType: PropTypes.string.isRequired,\n}\n\nexport const LinePropTypes = {\n    ...commonPropTypes,\n    enablePointLabel: PropTypes.bool.isRequired,\n    role: PropTypes.string.isRequired,\n    useMesh: PropTypes.bool.isRequired,\n    ...motionPropTypes,\n    ...defsPropTypes,\n}\n\nexport const LineCanvasPropTypes = {\n    pixelRatio: PropTypes.number.isRequired,\n    ...commonPropTypes,\n}\n\nconst commonDefaultProps = {\n    curve: 'linear',\n\n    xScale: {\n        type: 'point',\n    },\n    yScale: {\n        type: 'linear',\n        min: 0,\n        max: 'auto',\n    },\n\n    layers: [\n        'grid',\n        'markers',\n        'axes',\n        'areas',\n        'crosshair',\n        'lines',\n        'points',\n        'slices',\n        'mesh',\n        'legends',\n    ],\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: true,\n    enableGridY: true,\n\n    enablePoints: true,\n    pointSize: 6,\n    pointColor: { from: 'color' },\n    pointBorderWidth: 0,\n    pointBorderColor: { theme: 'background' },\n    enablePointLabel: false,\n    pointLabel: 'yFormatted',\n\n    colors: { scheme: 'nivo' },\n    enableArea: false,\n    areaBaselineValue: 0,\n    areaOpacity: 0.2,\n    areaBlendMode: 'normal',\n    lineWidth: 2,\n\n    legends: [],\n\n    isInteractive: true,\n    tooltip: PointTooltip,\n    enableSlices: false,\n    debugSlices: false,\n    sliceTooltip: SliceTooltip,\n    debugMesh: false,\n    enableCrosshair: true,\n    crosshairType: 'bottom-left',\n}\n\nexport const LineDefaultProps = {\n    ...commonDefaultProps,\n    enablePointLabel: false,\n    useMesh: false,\n    animate: true,\n    motionConfig: 'gentle',\n    defs: [],\n    fill: [],\n    role: 'img',\n}\n\nexport const LineCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useCallback, useMemo, useState } from 'react'\nimport { area, line } from 'd3-shape'\nimport { curveFromProp, useTheme, useValueFormatter } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { computeXYScalesForSeries } from '@nivo/scales'\nimport { LineDefaultProps } from './props'\n\nexport const useLineGenerator = ({ curve }) => {\n    return useMemo(\n        () =>\n            line()\n                .defined(d => d.x !== null && d.y !== null)\n                .x(d => d.x)\n                .y(d => d.y)\n                .curve(curveFromProp(curve)),\n        [curve]\n    )\n}\n\nexport const useAreaGenerator = ({ curve, yScale, areaBaselineValue }) => {\n    return useMemo(() => {\n        return area()\n            .defined(d => d.x !== null && d.y !== null)\n            .x(d => d.x)\n            .y1(d => d.y)\n            .y0(d => d.y0)\n            .curve(curveFromProp(curve))\n    }, [curve, yScale, areaBaselineValue])\n}\nconst usePoints = ({ series, getPointColor, getPointBorderColor, formatX, formatY }) => {\n    return useMemo(() => {\n        return series.reduce((acc, serie) => {\n            return [\n                ...acc,\n                ...serie.data\n                    .filter(datum => datum.position.x !== null && datum.position.y !== null)\n                    .map((datum, i) => {\n                        const point = {\n                            id: `${serie.id}.${i}`,\n                            index: acc.length + i,\n                            serieId: serie.id,\n                            serieColor: serie.color,\n                            x: datum.position.x,\n                            y: datum.position.y,\n                        }\n                        point.color = getPointColor(serie)\n                        point.borderColor = getPointBorderColor(point)\n                        point.data = {\n                            ...datum.data,\n                            xFormatted: formatX(datum.data.x),\n                            yFormatted: formatY(datum.data.y),\n                        }\n\n                        return point\n                    }),\n            ]\n        }, [])\n    }, [series, getPointColor, getPointBorderColor, formatX, formatY])\n}\n\nexport const useSlices = ({ enableSlices, points, width, height }) => {\n    return useMemo(() => {\n        if (enableSlices === false) return []\n\n        if (enableSlices === 'x') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.x)) map.set(point.x, [point])\n                else map.get(point.x).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([x, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let x0\n                    if (!prevSlice) x0 = x\n                    else x0 = x - (x - prevSlice[0]) / 2\n\n                    let sliceWidth\n                    if (!nextSlice) sliceWidth = width - x0\n                    else sliceWidth = x - x0 + (nextSlice[0] - x) / 2\n\n                    return {\n                        id: x,\n                        x0,\n                        x,\n                        y0: 0,\n                        y: 0,\n                        width: sliceWidth,\n                        height,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        } else if (enableSlices === 'y') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.y)) map.set(point.y, [point])\n                else map.get(point.y).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([y, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let y0\n                    if (!prevSlice) y0 = y\n                    else y0 = y - (y - prevSlice[0]) / 2\n\n                    let sliceHeight\n                    if (!nextSlice) sliceHeight = height - y0\n                    else sliceHeight = y - y0 + (nextSlice[0] - y) / 2\n\n                    return {\n                        id: y,\n                        x0: 0,\n                        x: 0,\n                        y0,\n                        y,\n                        width,\n                        height: sliceHeight,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        }\n    }, [enableSlices, points])\n}\n\nexport const useLine = ({\n    data,\n    xScale: xScaleSpec = LineDefaultProps.xScale,\n    xFormat,\n    yScale: yScaleSpec = LineDefaultProps.yScale,\n    yFormat,\n    width,\n    height,\n    colors = LineDefaultProps.colors,\n    curve = LineDefaultProps.curve,\n    areaBaselineValue = LineDefaultProps.areaBaselineValue,\n    pointColor = LineDefaultProps.pointColor,\n    pointBorderColor = LineDefaultProps.pointBorderColor,\n    enableSlices = LineDefaultProps.enableSlicesTooltip,\n    enableAreaBetween = false,\n}) => {\n    const formatX = useValueFormatter(xFormat)\n    const formatY = useValueFormatter(yFormat)\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n    const [hiddenIds, setHiddenIds] = useState([])\n\n    const {\n        xScale,\n        yScale,\n        series: rawSeries,\n    } = useMemo(\n        () =>\n            computeXYScalesForSeries(\n                data.filter(item => hiddenIds.indexOf(item.id) === -1),\n                xScaleSpec,\n                yScaleSpec,\n                width,\n                height\n            ),\n        [data, hiddenIds, xScaleSpec, yScaleSpec, width, height]\n    )\n    const { legendData, series } = useMemo(() => {\n        const dataWithColor = data.map(line => ({\n            id: line.id,\n            label: line.id,\n            color: getColor(line),\n        }))\n        const series = dataWithColor\n            .map(datum => ({\n                ...rawSeries.find(serie => serie.id === datum.id),\n                color: datum.color,\n            }))\n            .filter(item => Boolean(item.id))\n        const legendData = dataWithColor\n            .map(item => ({ ...item, hidden: !series.find(serie => serie.id === item.id) }))\n            .reverse()\n\n        return { legendData, series }\n    }, [data, rawSeries, getColor])\n\n    const toggleSerie = useCallback(id => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const points = usePoints({\n        series,\n        getPointColor,\n        getPointBorderColor,\n        formatX,\n        formatY,\n    })\n\n    const slices = useSlices({\n        enableSlices,\n        points,\n        width,\n        height,\n    })\n\n    const lineGenerator = useLineGenerator({ curve })\n    const areaGenerator = useAreaGenerator({\n        curve,\n        yScale,\n        areaBaselineValue,\n    })\n\n    return {\n        legendData,\n        toggleSerie,\n        lineGenerator,\n        areaGenerator,\n        getColor,\n        series,\n        xScale,\n        yScale,\n        slices,\n        points,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig, blendModePropType } from '@nivo/core'\n\nconst AreaPath = ({ areaBlendMode, areaOpacity, color, fill, path }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedPath = useAnimatedPath(path)\n    const animatedProps = useSpring({\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedPath}\n            fill={fill ? fill : animatedProps.color}\n            fillOpacity={areaOpacity}\n            strokeWidth={0}\n            style={{\n                mixBlendMode: areaBlendMode,\n            }}\n        />\n    )\n}\n\nAreaPath.propTypes = {\n    areaBlendMode: blendModePropType.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    color: PropTypes.string,\n    fill: PropTypes.string,\n    path: PropTypes.string.isRequired,\n}\n\nconst Areas = ({ areaGenerator, areaOpacity, areaBlendMode, lines }) => {\n    const computedLines = lines.slice(0).reverse()\n\n    return (\n        <g>\n            {computedLines.map(line => (\n                <AreaPath\n                    key={line.id}\n                    path={areaGenerator(line.data.map(d => d.position))}\n                    {...{ areaOpacity, areaBlendMode, ...line }}\n                />\n            ))}\n        </g>\n    )\n}\n\nAreas.propTypes = {\n    areaGenerator: PropTypes.func.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    lines: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default memo(Areas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated } from '@react-spring/web'\nimport { useAnimatedPath } from '@nivo/core'\n\nconst LinesItem = ({ lineGenerator, points, color, thickness }) => {\n    const path = useMemo(() => lineGenerator(points), [lineGenerator, points])\n    const animatedPath = useAnimatedPath(path)\n\n    return <animated.path d={animatedPath} fill=\"none\" strokeWidth={thickness} stroke={color} />\n}\n\nLinesItem.propTypes = {\n    points: PropTypes.arrayOf(\n        PropTypes.shape({\n            x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            y: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        })\n    ),\n    lineGenerator: PropTypes.func.isRequired,\n    color: PropTypes.string.isRequired,\n    thickness: PropTypes.number.isRequired,\n}\n\nexport default memo(LinesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport LinesItem from './LinesItem'\n\nconst Lines = ({ lines, lineGenerator, lineWidth }) => {\n    return lines\n        .slice(0)\n        .reverse()\n        .map(({ id, data, color }) => (\n            <LinesItem\n                key={id}\n                id={id}\n                points={data.map(d => d.position)}\n                lineGenerator={lineGenerator}\n                color={color}\n                thickness={lineWidth}\n            />\n        ))\n}\n\nLines.propTypes = {\n    lines: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    data: PropTypes.shape({\n                        x: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                        y: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                    }).isRequired,\n                    position: PropTypes.shape({\n                        x: PropTypes.number,\n                        y: PropTypes.number,\n                    }).isRequired,\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n    lineGenerator: PropTypes.func.isRequired,\n}\n\nexport default memo(Lines)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, memo, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst SlicesItem = ({\n    slice,\n    axis,\n    debug,\n    tooltip,\n    isCurrent,\n    currentlyHovered,\n    setSliceId,\n    current,\n    setCurrent,\n    setCurrentlyHovered,\n    height,\n    onClick,\n}) => {\n    const { showTooltipFromEvent, showTooltipAt, hideTooltip } = useTooltip()\n\n    const showSynchTooltip = useCallback(() => {\n        if (isCurrent) {\n            showTooltipAt(createElement(tooltip, { slice, axis }), [slice.x, height / 2], 'top')\n        }\n    }, [slice, isCurrent, currentlyHovered, showTooltipAt, tooltip])\n\n    useEffect(() => {\n        if (current === null) {\n            hideTooltip()\n        }\n    }, [current, hideTooltip])\n\n    useEffect(() => {\n        showSynchTooltip()\n    }, [showSynchTooltip])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            showTooltipAt(createElement(tooltip, { slice, axis }), [slice.x, height / 2], 'top')\n            setCurrentlyHovered(true)\n            setSliceId && setSliceId(slice.id)\n            setCurrent(slice)\n        },\n        [showTooltipFromEvent, tooltip, slice]\n    )\n\n    // const handleMouseMove = useCallback(\n    //     event => {\n    //         //showTooltipFromEvent(createElement(tooltip, { slice, axis }), event, 'right')\n    //         setPointIndex(slice.id)\n    //     },\n    //     [showTooltipFromEvent, tooltip, slice, setPointIndex]\n    // )\n\n    const handleMouseLeave = useCallback(() => {\n        hideTooltip()\n        setSliceId && setSliceId(null)\n        setCurrentlyHovered(false)\n        setCurrent(null)\n    }, [hideTooltip, setSliceId, setCurrentlyHovered])\n\n    const handleClick = useCallback(\n        event => {\n            onClick && onClick(slice, event)\n        },\n        [onClick]\n    )\n    return (\n        <rect\n            x={slice.x0}\n            y={slice.y0}\n            width={slice.width}\n            height={slice.height}\n            stroke=\"red\"\n            strokeWidth={debug ? 1 : 0}\n            strokeOpacity={0.75}\n            fill=\"red\"\n            fillOpacity={isCurrent && debug ? 0.35 : 0}\n            onMouseEnter={handleMouseEnter}\n            // onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n        />\n    )\n}\n\nSlicesItem.propTypes = {\n    slice: PropTypes.object.isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    isCurrent: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n}\n\nexport default memo(SlicesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SlicesItem from './SlicesItem'\n\nconst Slices = ({\n    slices,\n    axis,\n    debug,\n    height,\n    tooltip,\n    current,\n    setCurrent,\n    setSliceId,\n    setCurrentlyHovered,\n    currentlyHovered,\n    onClick,\n}) => {\n    return slices.map(slice => (\n        <SlicesItem\n            key={slice.id}\n            slice={slice}\n            axis={axis}\n            debug={debug}\n            height={height}\n            tooltip={tooltip}\n            setCurrent={setCurrent}\n            isCurrent={current !== null && current.id === slice.id}\n            setSliceId={setSliceId}\n            currentlyHovered={currentlyHovered}\n            setCurrentlyHovered={setCurrentlyHovered}\n            current={current}\n            onClick={onClick}\n        />\n    ))\n}\n\nSlices.propTypes = {\n    slices: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            points: PropTypes.arrayOf(PropTypes.object).isRequired,\n        })\n    ).isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    current: PropTypes.object,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n}\n\nexport default memo(Slices)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { getLabelGenerator, DotsItem, useTheme } from '@nivo/core'\n\nconst Points = ({ points, symbol, size, borderWidth, enableLabel, label, labelYOffset }) => {\n    const theme = useTheme()\n    const getLabel = getLabelGenerator(label)\n\n    /**\n     * We reverse the `points` array so that points from the lower lines in stacked lines\n     * graph are drawn on top. See https://github.com/plouc/nivo/issues/1051.\n     */\n    const mappedPoints = points\n        .slice(0)\n        .reverse()\n        .map(point => {\n            const mappedPoint = {\n                id: point.id,\n                x: point.x,\n                y: point.y,\n                datum: point.data,\n                fill: point.color,\n                stroke: point.borderColor,\n                label: enableLabel ? getLabel(point.data) : null,\n            }\n\n            return mappedPoint\n        })\n\n    return (\n        <g>\n            {mappedPoints.map(point => (\n                <DotsItem\n                    key={point.id}\n                    x={point.x}\n                    y={point.y}\n                    datum={point.datum}\n                    symbol={symbol}\n                    size={size}\n                    color={point.fill}\n                    borderWidth={borderWidth}\n                    borderColor={point.stroke}\n                    label={point.label}\n                    labelYOffset={labelYOffset}\n                    theme={theme}\n                />\n            ))}\n        </g>\n    )\n}\n\nPoints.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object),\n    symbol: PropTypes.func,\n    size: PropTypes.number.isRequired,\n    color: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.func.isRequired,\n    enableLabel: PropTypes.bool.isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelYOffset: PropTypes.number,\n}\n\nexport default memo(Points)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, memo, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\nimport { Mesh as BaseMesh } from '@nivo/voronoi'\n\nconst Mesh = ({\n    points,\n    width,\n    height,\n    margin,\n    setCurrent,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip,\n    debug,\n}) => {\n    const { showTooltipAt, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseEnter && onMouseEnter(point, event)\n        },\n        [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]\n    )\n\n    const handleMouseMove = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseMove && onMouseMove(point, event)\n        },\n        [setCurrent, showTooltipAt, tooltip, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (point, event) => {\n            hideTooltip()\n            setCurrent(null)\n            onMouseLeave && onMouseLeave(point, event)\n        },\n        [hideTooltip, setCurrent, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        (point, event) => {\n            onClick && onClick(point, event)\n        },\n        [onClick]\n    )\n\n    return (\n        <BaseMesh\n            nodes={points}\n            width={width}\n            height={height}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n            debug={debug}\n        />\n    )\n}\n\nMesh.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    margin: PropTypes.object.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    debug: PropTypes.bool.isRequired,\n}\n\nexport default memo(Mesh)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { Fragment, useState, useEffect } from 'react'\nimport {\n    bindDefs,\n    withContainer,\n    useDimensions,\n    useTheme,\n    SvgWrapper,\n    CartesianMarkers,\n} from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { Axes, Grid } from '@nivo/axes'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { Crosshair } from '@nivo/tooltip'\nimport { useLine } from './hooks'\nimport { LinePropTypes, LineDefaultProps } from './props'\nimport Areas from './Areas'\nimport Lines from './Lines'\nimport Slices from './Slices'\nimport Points from './Points'\nimport Mesh from './Mesh'\n\nconst Line = props => {\n    const {\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        layers,\n        curve,\n        areaBaselineValue,\n\n        colors,\n\n        margin: partialMargin,\n        width,\n        height,\n\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        enableGridX,\n        enableGridY,\n        gridXValues,\n        gridYValues,\n\n        lineWidth,\n        enableArea,\n        enableAreaBetween,\n        areaOpacity,\n        areaBlendMode,\n\n        enablePoints,\n        pointSymbol,\n        pointSize,\n        pointColor,\n        pointBorderWidth,\n        pointBorderColor,\n        enablePointLabel,\n        pointLabel,\n        pointLabelYOffset,\n\n        defs,\n        fill,\n\n        markers,\n\n        legends,\n\n        isInteractive,\n\n        useMesh,\n        debugMesh,\n\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n\n        tooltip,\n        sliceId,\n        setSliceId,\n\n        enableSlices,\n        debugSlices,\n        sliceTooltip,\n\n        enableCrosshair,\n        crosshairType,\n\n        role,\n    } = props\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        legendData,\n        toggleSerie,\n        lineGenerator,\n        areaGenerator,\n        series,\n        xScale,\n        yScale,\n        slices,\n        points,\n    } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n        enableSlices,\n        enableAreaBetween,\n    })\n\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n\n    const [currentPoint, setCurrentPoint] = useState(null)\n    const [currentSlice, setCurrentSlice] = useState(null)\n\n    const [currentlyHovered, setCurrentlyHovered] = useState(false)\n    const [sliceByIndex, setSliceByIndex] = useState({})\n\n    useEffect(() => {\n        if (!slices) {\n            return\n        }\n\n        let sliceDict = {}\n        for (let i = 0; i < slices.length; i++) {\n            sliceDict[slices[i].id] = slices[i]\n        }\n        setSliceByIndex(sliceDict)\n    }, [data, slices])\n\n    useEffect(() => {\n        if (!currentlyHovered && setSliceId) {\n            setCurrentSlice(sliceByIndex[sliceId] || null)\n        }\n    }, [sliceId, sliceByIndex])\n\n    const layerById = {\n        grid: (\n            <Grid\n                key=\"grid\"\n                theme={theme}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        ),\n        markers: (\n            <CartesianMarkers\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={xScale}\n                yScale={yScale}\n                theme={theme}\n            />\n        ),\n        axes: (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                theme={theme}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        ),\n        areas: null,\n        lines: (\n            <Lines key=\"lines\" lines={series} lineGenerator={lineGenerator} lineWidth={lineWidth} />\n        ),\n        slices: null,\n        points: null,\n        crosshair: null,\n        mesh: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend.${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legend.data || legendData}\n                theme={theme}\n                toggleSerie={legend.toggleSerie ? toggleSerie : undefined}\n            />\n        )),\n    }\n\n    const boundDefs = bindDefs(defs, series, fill)\n\n    if (enableArea) {\n        layerById.areas = (\n            <Areas\n                key=\"areas\"\n                areaGenerator={areaGenerator}\n                areaOpacity={areaOpacity}\n                areaBlendMode={areaBlendMode}\n                lines={series}\n            />\n        )\n    }\n\n    if (isInteractive && enableSlices !== false) {\n        layerById.slices = (\n            <Slices\n                key=\"slices\"\n                slices={slices}\n                axis={enableSlices}\n                debug={debugSlices}\n                height={innerHeight}\n                tooltip={sliceTooltip}\n                current={currentSlice}\n                setCurrent={setCurrentSlice}\n                setCurrentlyHovered={setCurrentlyHovered}\n                setSliceId={setSliceId}\n                currentlyHovered={currentlyHovered}\n                onClick={onClick}\n            />\n        )\n    }\n\n    if (enablePoints) {\n        layerById.points = (\n            <Points\n                key=\"points\"\n                points={points}\n                symbol={pointSymbol}\n                size={pointSize}\n                color={getPointColor}\n                borderWidth={pointBorderWidth}\n                borderColor={getPointBorderColor}\n                enableLabel={enablePointLabel}\n                label={pointLabel}\n                labelYOffset={pointLabelYOffset}\n            />\n        )\n    }\n\n    if (isInteractive && enableCrosshair) {\n        if (currentPoint !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentPoint.x}\n                    y={currentPoint.y}\n                    type={crosshairType}\n                />\n            )\n        }\n        if (currentSlice !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentSlice.x}\n                    y={currentSlice.y}\n                    type={enableSlices}\n                />\n            )\n        }\n    }\n    if (isInteractive && useMesh && enableSlices === false) {\n        layerById.mesh = (\n            <Mesh\n                key=\"mesh\"\n                points={points}\n                width={innerWidth}\n                height={innerHeight}\n                margin={margin}\n                current={currentPoint}\n                setCurrent={setCurrentPoint}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                onClick={onClick}\n                tooltip={tooltip}\n                debug={debugMesh}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper\n            defs={boundDefs}\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return (\n                        <Fragment key={i}>\n                            {layer({\n                                ...props,\n                                innerWidth,\n                                innerHeight,\n                                series,\n                                slices,\n                                points,\n                                xScale,\n                                yScale,\n                                lineGenerator,\n                                areaGenerator,\n                                currentPoint,\n                                setCurrentPoint,\n                                currentSlice,\n                                setCurrentSlice,\n                            })}\n                        </Fragment>\n                    )\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nLine.propTypes = LinePropTypes\nLine.defaultProps = LineDefaultProps\n\nexport default withContainer(Line)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, useRef, useEffect, useState, useCallback, forwardRef } from 'react'\nimport {\n    withContainer,\n    useDimensions,\n    useTheme,\n    getRelativeCursor,\n    isCursorInRect,\n} from '@nivo/core'\nimport { renderAxesToCanvas, renderGridLinesToCanvas } from '@nivo/axes'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useTooltip } from '@nivo/tooltip'\nimport { useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi'\nimport { LineCanvasPropTypes, LineCanvasDefaultProps } from './props'\nimport { useLine } from './hooks'\n\nconst LineCanvas = ({\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio,\n\n    data,\n    xScale: xScaleSpec,\n    xFormat,\n    yScale: yScaleSpec,\n    yFormat,\n    curve,\n\n    layers,\n\n    colors,\n    lineWidth,\n\n    enableArea,\n    areaBaselineValue,\n    areaOpacity,\n\n    enablePoints,\n    pointSize,\n    pointColor,\n    pointBorderWidth,\n    pointBorderColor,\n\n    enableGridX,\n    gridXValues,\n    enableGridY,\n    gridYValues,\n    axisTop,\n    axisRight,\n    axisBottom,\n    axisLeft,\n\n    legends,\n\n    isInteractive,\n    debugMesh,\n    //onMouseEnter,\n    //onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip,\n\n    canvasRef,\n}) => {\n    const canvasEl = useRef(null)\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const theme = useTheme()\n    const [currentPoint, setCurrentPoint] = useState(null)\n\n    const { lineGenerator, areaGenerator, series, xScale, yScale, points } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n    })\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points,\n        width: innerWidth,\n        height: innerHeight,\n        debug: debugMesh,\n    })\n\n    useEffect(() => {\n        if (canvasRef) {\n            canvasRef.current = canvasEl.current\n        }\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n        ctx.translate(margin.left, margin.top)\n\n        layers.forEach(layer => {\n            if (typeof layer === 'function') {\n                layer({\n                    ctx,\n                    innerWidth,\n                    innerHeight,\n                    series,\n                    points,\n                    xScale,\n                    yScale,\n                    lineWidth,\n                    lineGenerator,\n                    areaGenerator,\n                    currentPoint,\n                    setCurrentPoint,\n                })\n            }\n\n            if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n                ctx.lineWidth = theme.grid.line.strokeWidth\n                ctx.strokeStyle = theme.grid.line.stroke\n\n                enableGridX &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: xScale,\n                        axis: 'x',\n                        values: gridXValues,\n                    })\n\n                enableGridY &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: yScale,\n                        axis: 'y',\n                        values: gridYValues,\n                    })\n            }\n\n            if (layer === 'axes') {\n                renderAxesToCanvas(ctx, {\n                    xScale,\n                    yScale,\n                    width: innerWidth,\n                    height: innerHeight,\n                    top: axisTop,\n                    right: axisRight,\n                    bottom: axisBottom,\n                    left: axisLeft,\n                    theme,\n                })\n            }\n\n            if (layer === 'areas' && enableArea === true) {\n                ctx.save()\n                ctx.globalAlpha = areaOpacity\n\n                areaGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.fillStyle = serie.color\n                    ctx.beginPath()\n                    areaGenerator(serie.data.map(d => d.position))\n                    ctx.fill()\n                })\n\n                ctx.restore()\n            }\n\n            if (layer === 'lines') {\n                lineGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.strokeStyle = serie.color\n                    ctx.lineWidth = lineWidth\n                    ctx.beginPath()\n                    lineGenerator(serie.data.map(d => d.position))\n                    ctx.stroke()\n                })\n            }\n\n            if (layer === 'points' && enablePoints === true && pointSize > 0) {\n                points.forEach(point => {\n                    ctx.fillStyle = point.color\n                    ctx.beginPath()\n                    ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI)\n                    ctx.fill()\n\n                    if (pointBorderWidth > 0) {\n                        ctx.strokeStyle = point.borderColor\n                        ctx.lineWidth = pointBorderWidth\n                        ctx.stroke()\n                    }\n                })\n            }\n\n            if (layer === 'mesh' && debugMesh === true) {\n                renderVoronoiToCanvas(ctx, voronoi)\n                if (currentPoint) {\n                    renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index)\n                }\n            }\n\n            if (layer === 'legends') {\n                const legendData = series\n                    .map(serie => ({\n                        id: serie.id,\n                        label: serie.id,\n                        color: serie.color,\n                    }))\n                    .reverse()\n\n                legends.forEach(legend => {\n                    renderLegendToCanvas(ctx, {\n                        ...legend,\n                        data: legend.data || legendData,\n                        containerWidth: innerWidth,\n                        containerHeight: innerHeight,\n                        theme,\n                    })\n                })\n            }\n        })\n    }, [\n        canvasEl,\n        outerWidth,\n        outerHeight,\n        layers,\n        theme,\n        lineGenerator,\n        series,\n        xScale,\n        yScale,\n        enableGridX,\n        gridXValues,\n        enableGridY,\n        gridYValues,\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        legends,\n        points,\n        enablePoints,\n        pointSize,\n        currentPoint,\n    ])\n\n    const getPointFromMouseEvent = useCallback(\n        event => {\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null\n\n            const pointIndex = delaunay.find(x - margin.left, y - margin.top)\n            return points[pointIndex]\n        },\n        [canvasEl, margin, innerWidth, innerHeight, delaunay]\n    )\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = useCallback(\n        event => {\n            const point = getPointFromMouseEvent(event)\n            setCurrentPoint(point)\n\n            if (point) {\n                showTooltipFromEvent(createElement(tooltip, { point }), event)\n            } else {\n                hideTooltip()\n            }\n        },\n        [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        event => {\n            hideTooltip()\n            setCurrentPoint(null)\n            currentPoint && onMouseLeave && onMouseLeave(currentPoint, event)\n        },\n        [hideTooltip, setCurrentPoint, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        event => {\n            if (onClick) {\n                const point = getPointFromMouseEvent(event)\n                point && onClick(point, event)\n            }\n        },\n        [getPointFromMouseEvent, onClick]\n    )\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nLineCanvas.propTypes = LineCanvasPropTypes\nLineCanvas.defaultProps = LineCanvasDefaultProps\n\nconst LineCanvasWithContainer = withContainer(LineCanvas)\n\nexport default forwardRef((props, ref) => <LineCanvasWithContainer {...props} canvasRef={ref} />)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { forwardRef } from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport LineCanvas from './LineCanvas'\n\nconst ResponsiveLineCanvas = (props, ref) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <LineCanvas width={width} height={height} {...props} ref={ref} />}\n    </ResponsiveWrapper>\n)\n\nexport default forwardRef(ResponsiveLineCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Line from './Line'\n\nconst ResponsiveLine = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Line width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveLine\n"],"names":["LinePointTooltip","_ref","point","_jsx","BasicTooltip","id","_jsxs","jsxs","children","jsx","data","xFormatted","yFormatted","enableChip","color","serieColor","propTypes","PropTypes","object","isRequired","memo","SliceTooltip","slice","axis","theme","useTheme","otherAxis","TableTooltip","rows","points","map","Chip","style","tooltip","chip","serieId","tableCellValue","oneOf","commonPropTypes","arrayOf","shape","oneOfType","string","number","x","instanceOf","Date","y","xScale","xFormat","func","yScale","yFormat","layers","curve","lineCurvePropType","axisTop","axisPropType","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","enablePointLabel","pointLabel","markers","value","colors","ordinalColorsPropType","enableArea","areaOpacity","areaBlendMode","blendModePropType","areaBaselineValue","lineWidth","legends","LegendPropShape","isInteractive","debugMesh","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","LinePropTypes","_extends","role","useMesh","motionPropTypes","defsPropTypes","LineCanvasPropTypes","pixelRatio","commonDefaultProps","type","min","max","from","scheme","PointTooltip","LineDefaultProps","animate","motionConfig","defs","fill","LineCanvasDefaultProps","window","devicePixelRatio","useLineGenerator","useMemo","line","defined","d","curveFromProp","useAreaGenerator","_ref2","area","y1","y0","useSlices","_ref4","width","height","Map","forEach","has","get","push","set","Array","entries","sort","a","b","_ref5","i","slices","x0","slicePoints","prevSlice","nextSlice","reverse","_ref6","sliceHeight","useLine","_ref7","_ref7$xScale","xScaleSpec","_ref7$yScale","yScaleSpec","_ref7$colors","_ref7$curve","_ref7$areaBaselineVal","_ref7$pointColor","_ref7$pointBorderColo","_ref7$enableSlices","enableSlicesTooltip","enableAreaBetween","formatX","useValueFormatter","formatY","getColor","useOrdinalColorScale","getPointColor","useInheritedColor","getPointBorderColor","_useState","useState","hiddenIds","setHiddenIds","_useMemo","computeXYScalesForSeries","filter","item","indexOf","rawSeries","series","_useMemo2","dataWithColor","label","datum","find","serie","Boolean","legendData","hidden","toggleSerie","useCallback","state","concat","_ref3","reduce","acc","position","index","length","borderColor","usePoints","lineGenerator","areaGenerator","AreaPath","path","_useMotionConfig","useMotionConfig","springConfig","config","animatedPath","useAnimatedPath","animatedProps","useSpring","immediate","animated","fillOpacity","strokeWidth","mixBlendMode","Areas","computedLines","lines","LinesItem","thickness","stroke","Lines","SlicesItem","debug","isCurrent","currentlyHovered","setSliceId","current","setCurrent","setCurrentlyHovered","onClick","_useTooltip","useTooltip","showTooltipFromEvent","showTooltipAt","hideTooltip","showSynchTooltip","createElement","useEffect","handleMouseEnter","event","handleMouseLeave","handleClick","strokeOpacity","onMouseEnter","onMouseLeave","onMouseMove","Slices","Points","symbol","size","borderWidth","enableLabel","labelYOffset","getLabel","getLabelGenerator","mappedPoints","DotsItem","Mesh","margin","left","top","handleMouseMove","BaseMesh","nodes","Line","props","partialMargin","pointLabelYOffset","sliceId","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","currentPoint","setCurrentPoint","_useState2","currentSlice","setCurrentSlice","_useState3","_useState4","sliceByIndex","setSliceByIndex","sliceDict","layerById","grid","Grid","xValues","yValues","CartesianMarkers","axes","Axes","right","bottom","areas","crosshair","mesh","legend","BoxLegendSvg","containerWidth","containerHeight","undefined","boundDefs","bindDefs","Crosshair","SvgWrapper","layer","Fragment","defaultProps","withContainer","LineCanvas","canvasRef","canvasEl","useRef","_useVoronoiMesh","useVoronoiMesh","delaunay","voronoi","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","renderGridLinesToCanvas","values","renderAxesToCanvas","save","globalAlpha","context","beginPath","restore","arc","Math","PI","renderVoronoiToCanvas","renderVoronoiCellToCanvas","renderLegendToCanvas","getPointFromMouseEvent","_getRelativeCursor","getRelativeCursor","isCursorInRect","pointIndex","handleMouseHover","ref","cursor","LineCanvasWithContainer","LineCanvas$1","forwardRef","ResponsiveWrapper"],"mappings":"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"}