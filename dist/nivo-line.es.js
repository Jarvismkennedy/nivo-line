import{memo as e,useMemo as r,useState as i,useCallback as n,createElement as t,useEffect as o,Fragment as a,forwardRef as l,useRef as s}from"react";import{useTheme as u,lineCurvePropType as c,blendModePropType as d,motionPropTypes as f,defsPropTypes as p,curveFromProp as h,useValueFormatter as y,useMotionConfig as b,useAnimatedPath as g,getLabelGenerator as m,DotsItem as v,withContainer as x,useDimensions as R,CartesianMarkers as q,bindDefs as O,SvgWrapper as C,ResponsiveWrapper as S,getRelativeCursor as M,isCursorInRect as T}from"@nivo/core";import{ordinalColorsPropType as w,useOrdinalColorScale as k,useInheritedColor as B}from"@nivo/colors";import{axisPropType as W,Grid as L,Axes as G,renderGridLinesToCanvas as P,renderAxesToCanvas as E}from"@nivo/axes";import{LegendPropShape as j,BoxLegendSvg as F,renderLegendToCanvas as V}from"@nivo/legends";import{BasicTooltip as H,TableTooltip as Y,Chip as D,useTooltip as I,Crosshair as A}from"@nivo/tooltip";import{line as X,area as z}from"d3-shape";import{computeXYScalesForSeries as J}from"@nivo/scales";import K from"prop-types";import{jsx as N,jsxs as Q}from"react/jsx-runtime";import{useSpring as U,animated as Z}from"@react-spring/web";import{Mesh as $,useVoronoiMesh as _,renderVoronoiToCanvas as ee,renderVoronoiCellToCanvas as re}from"@nivo/voronoi";function ie(){return ie=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ie.apply(this,arguments)}var ne=function(e){var r=e.point;return N(H,{id:Q("span",{children:["x: ",N("strong",{children:r.data.xFormatted}),", y:"," ",N("strong",{children:r.data.yFormatted})]}),enableChip:!0,color:r.serieColor})};ne.propTypes={point:K.object.isRequired};var te=e(ne),oe=function(e){var r=e.slice,i=e.axis,n=u(),t="x"===i?"y":"x";return N(Y,{rows:r.points.map((function(e){return[N(D,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,N("span",{style:n.tooltip.tableCellValue,children:e.data[t+"Formatted"]},"value")]}))})};oe.propTypes={slice:K.object.isRequired,axis:K.oneOf(["x","y"]).isRequired};var ae=e(oe),le={data:K.arrayOf(K.shape({id:K.oneOfType([K.string,K.number]).isRequired,data:K.arrayOf(K.shape({x:K.oneOfType([K.number,K.string,K.instanceOf(Date)]),y:K.oneOfType([K.number,K.string,K.instanceOf(Date)])})).isRequired})).isRequired,xScale:K.object.isRequired,xFormat:K.oneOfType([K.func,K.string]),yScale:K.object.isRequired,yFormat:K.oneOfType([K.func,K.string]),layers:K.arrayOf(K.oneOfType([K.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),K.func])).isRequired,curve:c.isRequired,axisTop:W,axisRight:W,axisBottom:W,axisLeft:W,enableGridX:K.bool.isRequired,enableGridY:K.bool.isRequired,gridXValues:K.oneOfType([K.number,K.arrayOf(K.oneOfType([K.number,K.string,K.instanceOf(Date)]))]),gridYValues:K.oneOfType([K.number,K.arrayOf(K.oneOfType([K.number,K.string,K.instanceOf(Date)]))]),enablePoints:K.bool.isRequired,pointSymbol:K.func,pointSize:K.number.isRequired,pointColor:K.any.isRequired,pointBorderWidth:K.number.isRequired,pointBorderColor:K.any.isRequired,enablePointLabel:K.bool.isRequired,pointLabel:K.oneOfType([K.string,K.func]).isRequired,markers:K.arrayOf(K.shape({axis:K.oneOf(["x","y"]).isRequired,value:K.oneOfType([K.number,K.string,K.instanceOf(Date)]).isRequired,style:K.object})),colors:w.isRequired,enableArea:K.bool.isRequired,areaOpacity:K.number.isRequired,areaBlendMode:d.isRequired,areaBaselineValue:K.oneOfType([K.number,K.string,K.instanceOf(Date)]).isRequired,lineWidth:K.number.isRequired,legends:K.arrayOf(K.shape(j)).isRequired,isInteractive:K.bool.isRequired,debugMesh:K.bool.isRequired,tooltip:K.oneOfType([K.func,K.object]).isRequired,enableSlices:K.oneOf(["x","y",!1]).isRequired,debugSlices:K.bool.isRequired,sliceTooltip:K.oneOfType([K.func,K.object]).isRequired,enableCrosshair:K.bool.isRequired,crosshairType:K.string.isRequired},se=ie({},le,{enablePointLabel:K.bool.isRequired,role:K.string.isRequired,useMesh:K.bool.isRequired},f,p),ue=ie({pixelRatio:K.number.isRequired},le),ce={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:te,enableSlices:!1,debugSlices:!1,sliceTooltip:ae,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},de=ie({},ce,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),fe=ie({},ce,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),pe=function(e){var i=e.curve;return r((function(){return X().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(h(i))}),[i])},he=function(e){var i=e.curve,n=e.yScale,t=e.areaBaselineValue;return r((function(){return z().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).y0((function(e){return e.y0})).curve(h(i))}),[i,n,t])},ye=function(e){var i=e.enableSlices,n=e.points,t=e.width,o=e.height;return r((function(){if(!1===i)return[];if("x"===i){var e=new Map;return n.forEach((function(r){null!==r.data.x&&null!==r.data.y&&(e.has(r.x)?e.get(r.x).push(r):e.set(r.x,[r]))})),Array.from(e.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a=e[0],l=e[1],s=i[r-1],u=i[r+1];return{id:a,x0:n=s?a-(a-s[0])/2:a,x:a,y0:0,y:0,width:u?a-n+(u[0]-a)/2:t-n,height:o,points:l.reverse()}}))}if("y"===i){var r=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(r.has(e.y)?r.get(e.y).push(e):r.set(e.y,[e]))})),Array.from(r.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a,l=e[0],s=e[1],u=i[r-1],c=i[r+1];return n=u?l-(l-u[0])/2:l,a=c?l-n+(c[0]-l)/2:o-n,{id:l,x0:0,x:0,y0:n,y:l,width:t,height:a,points:s.reverse()}}))}}),[i,n])},be=function(e){var t=e.data,o=e.xScale,a=void 0===o?de.xScale:o,l=e.xFormat,s=e.yScale,c=void 0===s?de.yScale:s,d=e.yFormat,f=e.width,p=e.height,h=e.colors,b=void 0===h?de.colors:h,g=e.curve,m=void 0===g?de.curve:g,v=e.areaBaselineValue,x=void 0===v?de.areaBaselineValue:v,R=e.pointColor,q=void 0===R?de.pointColor:R,O=e.pointBorderColor,C=void 0===O?de.pointBorderColor:O,S=e.enableSlices,M=void 0===S?de.enableSlicesTooltip:S;e.enableAreaBetween;var T=y(l),w=y(d),W=k(b,"id"),L=u(),G=B(q,L),P=B(C,L),E=i([]),j=E[0],F=E[1],V=r((function(){return J(t.filter((function(e){return-1===j.indexOf(e.id)})),a,c,f,p)}),[t,j,a,c,f,p]),H=V.xScale,Y=V.yScale,D=V.series,I=r((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:W(e)}})),r=e.map((function(e){return ie({},D.find((function(r){return r.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return ie({},e,{hidden:!r.find((function(r){return r.id===e.id}))})})).reverse(),series:r}}),[t,D,W]),A=I.legendData,X=I.series,z=n((function(e){F((function(r){return r.indexOf(e)>-1?r.filter((function(r){return r!==e})):[].concat(r,[e])}))}),[]),K=function(e){var i=e.series,n=e.getPointColor,t=e.getPointBorderColor,o=e.formatX,a=e.formatY;return r((function(){return i.reduce((function(e,r){return[].concat(e,r.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,l){var s={id:r.id+"."+l,index:e.length+l,serieId:r.id,serieColor:r.color,x:i.position.x,y:i.position.y};return s.color=n(r),s.borderColor=t(s),s.data=ie({},i.data,{xFormatted:o(i.data.x),yFormatted:a(i.data.y)}),s})))}),[])}),[i,n,t,o,a])}({series:X,getPointColor:G,getPointBorderColor:P,formatX:T,formatY:w}),N=ye({enableSlices:M,points:K,width:f,height:p});return{legendData:A,toggleSerie:z,lineGenerator:pe({curve:m}),areaGenerator:he({curve:m,yScale:Y,areaBaselineValue:x}),getColor:W,series:X,xScale:H,yScale:Y,slices:N,points:K}},ge=function(e){var r=e.areaBlendMode,i=e.areaOpacity,n=e.color,t=e.fill,o=e.path,a=b(),l=a.animate,s=a.config,u=g(o),c=U({color:n,config:s,immediate:!l});return N(Z.path,{d:u,fill:t||c.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:r}})};ge.propTypes={areaBlendMode:d.isRequired,areaOpacity:K.number.isRequired,color:K.string,fill:K.string,path:K.string.isRequired};var me=function(e){var r=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,t=e.lines.slice(0).reverse();return N("g",{children:t.map((function(e){return N(ge,ie({path:r(e.data.map((function(e){return e.position})))},ie({areaOpacity:i,areaBlendMode:n},e)),e.id)}))})};me.propTypes={areaGenerator:K.func.isRequired,areaOpacity:K.number.isRequired,areaBlendMode:d.isRequired,lines:K.arrayOf(K.object).isRequired};var ve=e(me),xe=function(e){var i=e.lineGenerator,n=e.points,t=e.color,o=e.thickness,a=r((function(){return i(n)}),[i,n]),l=g(a);return N(Z.path,{d:l,fill:"none",strokeWidth:o,stroke:t})};xe.propTypes={points:K.arrayOf(K.shape({x:K.oneOfType([K.string,K.number]),y:K.oneOfType([K.string,K.number])})),lineGenerator:K.func.isRequired,color:K.string.isRequired,thickness:K.number.isRequired};var Re=e(xe),qe=function(e){var r=e.lines,i=e.lineGenerator,n=e.lineWidth;return r.slice(0).reverse().map((function(e){var r=e.id,t=e.data,o=e.color;return N(Re,{id:r,points:t.map((function(e){return e.position})),lineGenerator:i,color:o,thickness:n},r)}))};qe.propTypes={lines:K.arrayOf(K.shape({id:K.oneOfType([K.string,K.number]).isRequired,color:K.string.isRequired,data:K.arrayOf(K.shape({data:K.shape({x:K.oneOfType([K.string,K.number,K.instanceOf(Date)]),y:K.oneOfType([K.string,K.number,K.instanceOf(Date)])}).isRequired,position:K.shape({x:K.number,y:K.number}).isRequired})).isRequired})).isRequired,lineWidth:K.number.isRequired,lineGenerator:K.func.isRequired};var Oe=e(qe),Ce=function(e){var r=e.slice,i=e.axis,a=e.debug,l=e.tooltip,s=e.isCurrent,u=e.currentlyHovered,c=e.setSliceId,d=e.current,f=e.setCurrent,p=e.setCurrentlyHovered,h=e.height,y=e.onClick,b=I(),g=b.showTooltipFromEvent,m=b.showTooltipAt,v=b.hideTooltip,x=n((function(){s&&m(t(l,{slice:r,axis:i}),[r.x,h/2],"top")}),[r,s,u,m,l]);o((function(){null===d&&v()}),[d,v]),o((function(){x()}),[x]);var R=n((function(e){m(t(l,{slice:r,axis:i}),[r.x,h/2],"top"),p(!0),c&&c(r.id),f(r),onMouseEnter&&onMouseEnter(r,e)}),[g,l,r,onMouseEnter]),q=n((function(){v(),c&&c(null),p(!1),f(null)}),[v,c,p]),O=n((function(e){y&&y(r,e)}),[y]);return N("rect",{x:r.x0,y:r.y0,width:r.width,height:r.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:R,onMouseLeave:q,onClick:O})};Ce.propTypes={slice:K.object.isRequired,axis:K.oneOf(["x","y"]).isRequired,debug:K.bool.isRequired,height:K.number.isRequired,tooltip:K.oneOfType([K.func,K.object]),isCurrent:K.bool.isRequired,setCurrent:K.func.isRequired,onMouseEnter:K.func,onMouseMove:K.func,onMouseLeave:K.func,onClick:K.func};var Se=e(Ce),Me=function(e){var r=e.slices,i=e.axis,n=e.debug,t=e.height,o=e.tooltip,a=e.current,l=e.setCurrent,s=e.setSliceId,u=e.setCurrentlyHovered,c=e.currentlyHovered,d=e.onClick;return r.map((function(e){return N(Se,{slice:e,axis:i,debug:n,height:t,tooltip:o,setCurrent:l,isCurrent:null!==a&&a.id===e.id,setSliceId:s,currentlyHovered:c,setCurrentlyHovered:u,current:a,onClick:d},e.id)}))};Me.propTypes={slices:K.arrayOf(K.shape({id:K.oneOfType([K.number,K.string,K.instanceOf(Date)]).isRequired,x:K.number.isRequired,y:K.number.isRequired,points:K.arrayOf(K.object).isRequired})).isRequired,axis:K.oneOf(["x","y"]).isRequired,debug:K.bool.isRequired,height:K.number.isRequired,tooltip:K.oneOfType([K.func,K.object]).isRequired,current:K.object,setCurrent:K.func.isRequired,onMouseEnter:K.func,onMouseMove:K.func,onMouseLeave:K.func,onClick:K.func};var Te=e(Me),we=function(e){var r=e.points,i=e.symbol,n=e.size,t=e.borderWidth,o=e.enableLabel,a=e.label,l=e.labelYOffset,s=u(),c=m(a),d=r.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?c(e.data):null}}));return N("g",{children:d.map((function(e){return N(v,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:t,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:s},e.id)}))})};we.propTypes={points:K.arrayOf(K.object),symbol:K.func,size:K.number.isRequired,color:K.func.isRequired,borderWidth:K.number.isRequired,borderColor:K.func.isRequired,enableLabel:K.bool.isRequired,label:K.oneOfType([K.string,K.func]).isRequired,labelYOffset:K.number};var ke=e(we),Be=function(e){var r=e.points,i=e.width,o=e.height,a=e.margin,l=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,c=e.onMouseLeave,d=e.onClick,f=e.tooltip,p=e.debug,h=I(),y=h.showTooltipAt,b=h.hideTooltip,g=n((function(e,r){y(t(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),l(e),s&&s(e,r)}),[l,y,f,s,a]),m=n((function(e,r){y(t(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),l(e),u&&u(e,r)}),[l,y,f,u]),v=n((function(e,r){b(),l(null),c&&c(e,r)}),[b,l,c]),x=n((function(e,r){d&&d(e,r)}),[d]);return N($,{nodes:r,width:i,height:o,onMouseEnter:g,onMouseMove:m,onMouseLeave:v,onClick:x,debug:p})};Be.propTypes={points:K.arrayOf(K.object).isRequired,width:K.number.isRequired,height:K.number.isRequired,margin:K.object.isRequired,setCurrent:K.func.isRequired,onMouseEnter:K.func,onMouseMove:K.func,onMouseLeave:K.func,onClick:K.func,tooltip:K.oneOfType([K.func,K.object]).isRequired,debug:K.bool.isRequired};var We=e(Be),Le=function(e){var r=e.data,n=e.xScale,t=e.xFormat,l=e.yScale,s=e.yFormat,c=e.layers,d=e.curve,f=e.areaBaselineValue,p=e.colors,h=e.margin,y=e.width,b=e.height,g=e.axisTop,m=e.axisRight,v=e.axisBottom,x=e.axisLeft,S=e.enableGridX,M=e.enableGridY,T=e.gridXValues,w=e.gridYValues,k=e.lineWidth,W=e.enableArea,P=e.enableAreaBetween,E=e.areaOpacity,j=e.areaBlendMode,V=e.enablePoints,H=e.pointSymbol,Y=e.pointSize,D=e.pointColor,I=e.pointBorderWidth,X=e.pointBorderColor,z=e.enablePointLabel,J=e.pointLabel,K=e.pointLabelYOffset,Q=e.defs,U=e.fill,Z=e.markers,$=e.legends,_=e.isInteractive,ee=e.useMesh,re=e.debugMesh,ne=e.onMouseEnter,te=e.onMouseMove,oe=e.onMouseLeave,ae=e.onClick,le=e.tooltip,se=e.sliceId,ue=e.setSliceId,ce=e.enableSlices,de=e.debugSlices,fe=e.sliceTooltip,pe=e.enableCrosshair,he=e.crosshairType,ye=e.role,ge=R(y,b,h),me=ge.margin,xe=ge.innerWidth,Re=ge.innerHeight,qe=ge.outerWidth,Ce=ge.outerHeight,Se=be({data:r,xScale:n,xFormat:t,yScale:l,yFormat:s,width:xe,height:Re,colors:p,curve:d,areaBaselineValue:f,pointColor:D,pointBorderColor:X,enableSlices:ce,enableAreaBetween:P}),Me=Se.legendData,we=Se.toggleSerie,Be=Se.lineGenerator,Le=Se.areaGenerator,Ge=Se.series,Pe=Se.xScale,Ee=Se.yScale,je=Se.slices,Fe=Se.points,Ve=u(),He=B(D,Ve),Ye=B(X,Ve),De=i(null),Ie=De[0],Ae=De[1],Xe=i(null),ze=Xe[0],Je=Xe[1],Ke=i(!1),Ne=Ke[0],Qe=Ke[1],Ue=i({}),Ze=Ue[0],$e=Ue[1];o((function(){if(je){for(var e={},r=0;r<je.length;r++)e[je[r].id]=je[r];$e(e)}}),[r,je]),o((function(){!Ne&&ue&&Je(Ze[se]||null)}),[se,Ze]);var _e={grid:N(L,{theme:Ve,width:xe,height:Re,xScale:S?Pe:null,yScale:M?Ee:null,xValues:T,yValues:w},"grid"),markers:N(q,{markers:Z,width:xe,height:Re,xScale:Pe,yScale:Ee,theme:Ve},"markers"),axes:N(G,{xScale:Pe,yScale:Ee,width:xe,height:Re,theme:Ve,top:g,right:m,bottom:v,left:x},"axes"),areas:null,lines:N(Oe,{lines:Ge,lineGenerator:Be,lineWidth:k},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:$.map((function(e,r){return N(F,ie({},e,{containerWidth:xe,containerHeight:Re,data:e.data||Me,theme:Ve,toggleSerie:e.toggleSerie?we:void 0}),"legend."+r)}))},er=O(Q,Ge,U);return W&&(_e.areas=N(ve,{areaGenerator:Le,areaOpacity:E,areaBlendMode:j,lines:Ge},"areas")),_&&!1!==ce&&(_e.slices=N(Te,{slices:je,axis:ce,debug:de,height:Re,tooltip:fe,current:ze,setCurrent:Je,setCurrentlyHovered:Qe,setSliceId:ue,currentlyHovered:Ne,onClick:ae},"slices")),V&&(_e.points=N(ke,{points:Fe,symbol:H,size:Y,color:He,borderWidth:I,borderColor:Ye,enableLabel:z,label:J,labelYOffset:K},"points")),_&&pe&&(null!==Ie&&(_e.crosshair=N(A,{width:xe,height:Re,x:Ie.x,y:Ie.y,type:he},"crosshair")),null!==ze&&(_e.crosshair=N(A,{width:xe,height:Re,x:ze.x,y:ze.y,type:ce},"crosshair"))),_&&ee&&!1===ce&&(_e.mesh=N(We,{points:Fe,width:xe,height:Re,margin:me,current:Ie,setCurrent:Ae,onMouseEnter:ne,onMouseMove:te,onMouseLeave:oe,onClick:ae,tooltip:le,debug:re},"mesh")),N(C,{defs:er,width:qe,height:Ce,margin:me,role:ye,children:c.map((function(r,i){return"function"==typeof r?N(a,{children:r(ie({},e,{innerWidth:xe,innerHeight:Re,series:Ge,slices:je,points:Fe,xScale:Pe,yScale:Ee,lineGenerator:Be,areaGenerator:Le,currentPoint:Ie,setCurrentPoint:Ae,currentSlice:ze,setCurrentSlice:Je}))},i):_e[r]}))})};Le.propTypes=se,Le.defaultProps=de;var Ge=x(Le),Pe=function(e){return N(S,{children:function(r){var i=r.width,n=r.height;return N(Ge,ie({width:i,height:n},e))}})},Ee=function(e){var r=e.width,a=e.height,l=e.margin,c=e.pixelRatio,d=e.data,f=e.xScale,p=e.xFormat,h=e.yScale,y=e.yFormat,b=e.curve,g=e.layers,m=e.colors,v=e.lineWidth,x=e.enableArea,q=e.areaBaselineValue,O=e.areaOpacity,C=e.enablePoints,S=e.pointSize,w=e.pointColor,k=e.pointBorderWidth,B=e.pointBorderColor,W=e.enableGridX,L=e.gridXValues,G=e.enableGridY,j=e.gridYValues,F=e.axisTop,H=e.axisRight,Y=e.axisBottom,D=e.axisLeft,A=e.legends,X=e.isInteractive,z=e.debugMesh,J=e.onMouseLeave,K=e.onClick,Q=e.tooltip,U=e.canvasRef,Z=s(null),$=R(r,a,l),ne=$.margin,te=$.innerWidth,oe=$.innerHeight,ae=$.outerWidth,le=$.outerHeight,se=u(),ue=i(null),ce=ue[0],de=ue[1],fe=be({data:d,xScale:f,xFormat:p,yScale:h,yFormat:y,width:te,height:oe,colors:m,curve:b,areaBaselineValue:q,pointColor:w,pointBorderColor:B}),pe=fe.lineGenerator,he=fe.areaGenerator,ye=fe.series,ge=fe.xScale,me=fe.yScale,ve=fe.points,xe=_({points:ve,width:te,height:oe,debug:z}),Re=xe.delaunay,qe=xe.voronoi;o((function(){U&&(U.current=Z.current),Z.current.width=ae*c,Z.current.height=le*c;var e=Z.current.getContext("2d");e.scale(c,c),e.fillStyle=se.background,e.fillRect(0,0,ae,le),e.translate(ne.left,ne.top),g.forEach((function(r){if("function"==typeof r&&r({ctx:e,innerWidth:te,innerHeight:oe,series:ye,points:ve,xScale:ge,yScale:me,lineWidth:v,lineGenerator:pe,areaGenerator:he,currentPoint:ce,setCurrentPoint:de}),"grid"===r&&se.grid.line.strokeWidth>0&&(e.lineWidth=se.grid.line.strokeWidth,e.strokeStyle=se.grid.line.stroke,W&&P(e,{width:te,height:oe,scale:ge,axis:"x",values:L}),G&&P(e,{width:te,height:oe,scale:me,axis:"y",values:j})),"axes"===r&&E(e,{xScale:ge,yScale:me,width:te,height:oe,top:F,right:H,bottom:Y,left:D,theme:se}),"areas"===r&&!0===x&&(e.save(),e.globalAlpha=O,he.context(e),ye.forEach((function(r){e.fillStyle=r.color,e.beginPath(),he(r.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===r&&(pe.context(e),ye.forEach((function(r){e.strokeStyle=r.color,e.lineWidth=v,e.beginPath(),pe(r.data.map((function(e){return e.position}))),e.stroke()}))),"points"===r&&!0===C&&S>0&&ve.forEach((function(r){e.fillStyle=r.color,e.beginPath(),e.arc(r.x,r.y,S/2,0,2*Math.PI),e.fill(),k>0&&(e.strokeStyle=r.borderColor,e.lineWidth=k,e.stroke())})),"mesh"===r&&!0===z&&(ee(e,qe),ce&&re(e,qe,ce.index)),"legends"===r){var i=ye.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();A.forEach((function(r){V(e,ie({},r,{data:r.data||i,containerWidth:te,containerHeight:oe,theme:se}))}))}}))}),[Z,ae,le,g,se,pe,ye,ge,me,W,L,G,j,F,H,Y,D,A,ve,C,S,ce]);var Oe=n((function(e){var r=M(Z.current,e),i=r[0],n=r[1];if(!T(ne.left,ne.top,te,oe,i,n))return null;var t=Re.find(i-ne.left,n-ne.top);return ve[t]}),[Z,ne,te,oe,Re]),Ce=I(),Se=Ce.showTooltipFromEvent,Me=Ce.hideTooltip,Te=n((function(e){var r=Oe(e);de(r),r?Se(t(Q,{point:r}),e):Me()}),[Oe,de,Se,Me,Q]),we=n((function(e){Me(),de(null),ce&&J&&J(ce,e)}),[Me,de,J]),ke=n((function(e){if(K){var r=Oe(e);r&&K(r,e)}}),[Oe,K]);return N("canvas",{ref:Z,width:ae*c,height:le*c,style:{width:ae,height:le,cursor:X?"auto":"normal"},onMouseEnter:X?Te:void 0,onMouseMove:X?Te:void 0,onMouseLeave:X?we:void 0,onClick:X?ke:void 0})};Ee.propTypes=ue,Ee.defaultProps=fe;var je=x(Ee),Fe=l((function(e,r){return N(je,ie({},e,{canvasRef:r}))})),Ve=l((function(e,r){return N(S,{children:function(i){var n=i.width,t=i.height;return N(Fe,ie({width:n,height:t},e,{ref:r}))}})}));export{Ge as Line,Fe as LineCanvas,fe as LineCanvasDefaultProps,ue as LineCanvasPropTypes,de as LineDefaultProps,se as LinePropTypes,Pe as ResponsiveLine,Ve as ResponsiveLineCanvas,he as useAreaGenerator,be as useLine,pe as useLineGenerator,ye as useSlices};
//# sourceMappingURL=nivo-line.es.js.map
